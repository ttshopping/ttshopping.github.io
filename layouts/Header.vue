<script setup lang="ts">
import useWindowScroll from '~/hook/useWindowScroll'

const scroll = useWindowScroll()

</script>
<template>
    <header class="sticky top-0 bg-white z-[999]" :class="{'header-sticky': scroll.scrollY.value >= 90, 'header-hidden': scroll.scrollY.value >= 90 && scroll.direction.value !== 'up' }">
        <div class="max-w-[1520px] ms-auto me-auto">
            <svg xmlns="http://www.w3.org/2000/svg" class="hidden">
                <symbol id="icon-h-search" viewBox="0 0 32 32" fill="currentColor">
                    <path
                        d="M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z">
                    </path>
                </symbol>
                <symbol id="icon-h-account" viewBox="0 0 32 32" fill="currentColor">
                    <path xmlns="http://www.w3.org/2000/svg"
                        d="M 16 5 C 12.144531 5 9 8.144531 9 12 C 9 14.410156 10.230469 16.550781 12.09375 17.8125 C 8.527344 19.34375 6 22.882813 6 27 L 8 27 C 8 22.570313 11.570313 19 16 19 C 20.429688 19 24 22.570313 24 27 L 26 27 C 26 22.882813 23.472656 19.34375 19.90625 17.8125 C 21.769531 16.550781 23 14.410156 23 12 C 23 8.144531 19.855469 5 16 5 Z M 16 7 C 18.773438 7 21 9.226563 21 12 C 21 14.773438 18.773438 17 16 17 C 13.226563 17 11 14.773438 11 12 C 11 9.226563 13.226563 7 16 7 Z">
                    </path>
                </symbol>
                <symbol id="icon-h-heart" viewBox="0 0 32 32" fill="currentColor">
                    <path xmlns="http://www.w3.org/2000/svg"
                        d="M 9.5 5 C 5.363281 5 2 8.402344 2 12.5 C 2 13.929688 2.648438 15.167969 3.25 16.0625 C 3.851563 16.957031 4.46875 17.53125 4.46875 17.53125 L 15.28125 28.375 L 16 29.09375 L 16.71875 28.375 L 27.53125 17.53125 C 27.53125 17.53125 30 15.355469 30 12.5 C 30 8.402344 26.636719 5 22.5 5 C 19.066406 5 16.855469 7.066406 16 7.9375 C 15.144531 7.066406 12.933594 5 9.5 5 Z M 9.5 7 C 12.488281 7 15.25 9.90625 15.25 9.90625 L 16 10.75 L 16.75 9.90625 C 16.75 9.90625 19.511719 7 22.5 7 C 25.542969 7 28 9.496094 28 12.5 C 28 14.042969 26.125 16.125 26.125 16.125 L 16 26.25 L 5.875 16.125 C 5.875 16.125 5.390625 15.660156 4.90625 14.9375 C 4.421875 14.214844 4 13.273438 4 12.5 C 4 9.496094 6.457031 7 9.5 7 Z">
                    </path>
                </symbol>
                <symbol id="icon-h-cart" viewBox="0 0 32 32" fill="currentColor">
                    <path xmlns="http://www.w3.org/2000/svg"
                        d="M 16 3 C 13.253906 3 11 5.253906 11 8 L 11 9 L 6.0625 9 L 6 9.9375 L 5 27.9375 L 4.9375 29 L 27.0625 29 L 27 27.9375 L 26 9.9375 L 25.9375 9 L 21 9 L 21 8 C 21 5.253906 18.746094 3 16 3 Z M 16 5 C 17.65625 5 19 6.34375 19 8 L 19 9 L 13 9 L 13 8 C 13 6.34375 14.34375 5 16 5 Z M 7.9375 11 L 11 11 L 11 14 L 13 14 L 13 11 L 19 11 L 19 14 L 21 14 L 21 11 L 24.0625 11 L 24.9375 27 L 7.0625 27 Z">
                    </path>
                </symbol>
            </svg>
            <div class="px-6">
                <div class="h-[90px] flex items-center">
                    <div class="w-[16%]">
                        <img class="w-[80px]" src="~/assets/img/logo.png" />
                    </div>
                    <div class="flex-1">
                        <ul class="flex">
                            <li>
                                <a class="nav-item" to="/products">WIGS</a>
                            </li>
                            <li>
                                <a class="nav-item" to="/arrivals">NEW ARRIVALS</a>
                            </li>
                            <li>
                                <a class="nav-item" to="/about">ABOUT US</a>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <a to="/search" class="hover:text-[#ff97a7]">
                            <svg class="w-[24px] h-[24px] hover:scale-[1.2] transition-all">
                                <use href="#icon-h-search"></use>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>
</template>

<style scoped>
.nav-item {
    @apply px-4 py-2 transition-all rounded-[0] hover:bg-[#ffb6c1] hover:rounded-[20px];
}
.header-sticky {
    position: sticky;
    top: 0;
    z-index: 460;
    box-shadow: 0 1px 3px #0000001a;
    transform: translateY(0);
    transition: transform .15s ease-out;
}
.header-hidden {
    transform: translateY(-100%);
}
</style>
