import{a0 as i,y as d,g as p,ag as V}from"./vendor-qUgIT3Ts.js";import{_ as f}from"./plugin-vueexport-helper-DlAUqK2U.js";import{s as m}from"./dom-ClVwZRzx.js";const _={key:0,class:"fixed inset-0 z-[99999999] bg-[rgba(0,0,0,0.6)] flex items-center justify-center"},g={class:"flex flex-col"},x={class:"loading flex justify-center items-center"},y={class:"text-white text-[14px] text-center"},v={class:"w-[50vw] pt-4",style:{"--el-text-color-regular":"#fff"}},N={__name:"index",props:{httpRequest:{type:Function},percentage:{type:Number},delayed:{type:Number,default:1e3},tip:{type:String,default:"请等待..."},indeterminate:{type:Boolean}},setup(r){const e=r,t=Vue.ref(!1),n=Vue.ref(!1);async function o(){if(t.value)return;t.value=!0;const a=setTimeout(()=>{n.value=!0},e.delayed);await e.httpRequest().finally(()=>{t.value=!1,n.value=!1,clearTimeout(a)})}return(a,s)=>{const u=d,l=p,c=V;return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(u,{loading:Vue.unref(t),type:"primary",onClick:s[0]||(s[0]=h=>o())},{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"default",{},void 0,!0)]),_:3},8,["loading"]),(Vue.openBlock(),Vue.createBlock(Vue.Teleport,{to:"body"},[Vue.createVNode(Vue.Transition,{name:"el-fade-in",mode:"out-in"},{default:Vue.withCtx(()=>[Vue.unref(n)?(Vue.openBlock(),Vue.createElementBlock("div",_,[Vue.createElementVNode("div",g,[Vue.createElementVNode("div",x,[Vue.createVNode(l,{size:"90",color:"#fff"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(i))]),_:1})]),Vue.createElementVNode("p",y,Vue.toDisplayString(e.tip),1),Vue.createElementVNode("div",v,[Vue.createVNode(c,{percentage:e.percentage,"stroke-width":15,indeterminate:e.indeterminate,striped:"","striped-flow":""},null,8,["percentage","indeterminate"])])])])):Vue.createCommentVNode("",!0)]),_:1})]))],64)}}},E=f(N,[["__scopeId","data-v-82635cfb"]]),B={class:"p-4"},C=Object.assign({name:"ButtonPermission"},{__name:"button",setup(r){const e=Vue.ref(20);async function t(){e.value=20;const n=setInterval(()=>{e.value++},200);await m(5e3),clearInterval(n),console.info("执行完成")}return(n,o)=>{const a=E;return Vue.openBlock(),Vue.createElementBlock("div",B,[o[1]||(o[1]=Vue.createElementVNode("h2",{class:"py-4 text-[20px]"},"按钮展示",-1)),Vue.createVNode(a,{"http-request":t,percentage:Vue.unref(e),tip:"文件正在提交，请稍后..."},{default:Vue.withCtx(()=>o[0]||(o[0]=[Vue.createTextVNode("长任务")])),_:1},8,["percentage"])])}}});export{C as default};
