const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-1dttvwho.js","assets/vendor-qUgIT3Ts.js","assets/vendor-BcBaKbqN.css","assets/plugin-vueexport-helper-DlAUqK2U.js","assets/index-BordbWbV.js","assets/index-CSyPBm0q.css","assets/index-BwQzcsBf.js","assets/index-C64xc3xK.css","assets/404-YMZDnOfz.js","assets/index-BbL-Uf6H.js","assets/index-D2qMmpIo.css","assets/Home-CsqFB-5n.js","assets/index-B4wFwDDI.js","assets/dom-ClVwZRzx.js","assets/index-B5TZt4vZ.css","assets/index-CtgiCrXP.js","assets/index-D6d0g48s.css","assets/index-DM8mYl4s.js","assets/index-D30O1WSs.js","assets/index-iP69xKvq.js","assets/index-DN2dOfnt.js","assets/index-D8ASGYRV.js","assets/index-DfsRq_rk.js","assets/directive-CRDW23UI.js","assets/directive-DppC5nDU.css","assets/button-Bb635y23.js","assets/button-kEiDHdu9.css","assets/echarts-Bik3YT9o.js"])))=>i.map(i=>d[i]);
var K=Object.defineProperty;var Q=(e,o,t)=>o in e?K(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t;var g=(e,o,t)=>Q(e,typeof o!="symbol"?o+"":o,t);import{z as X,E as ee,a as M,m as te,b as oe,N as I}from"./vendor-qUgIT3Ts.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(s){if(s.ep)return;s.ep=!0;const c=t(s);fetch(s.href,c)}})();if(typeof window<"u"){let e=function(){var o=document.body,t=document.getElementById("__svg__icons__dom__micros");t||(t=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.style.position="absolute",t.style.width="0",t.style.height="0",t.id="__svg__icons__dom__micros",t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),t.innerHTML='<symbol class="icon" viewBox="0 0 1024 1024"  id="icon-404"><path d="M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0ZM480 416v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z" /><path d="m955.7 856-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-bug"><path d="M940 512H792V412c76.8 0 139-62.2 139-139 0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 34.8-28.2 63-63 63H232c-34.8 0-63-28.2-63-63 0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 76.8 62.2 139 139 139v100H84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h148v96c0 6.5.2 13 .7 19.3C164.1 728.6 116 796.7 116 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-44.2 23.9-82.9 59.6-103.7 6 17.2 13.6 33.6 22.7 49 24.3 41.5 59 76.2 100.5 100.5S460.5 960 512 960s99.8-13.9 141.3-38.2c41.5-24.3 76.2-59 100.5-100.5 9.1-15.5 16.7-31.9 22.7-49C812.1 793.1 836 831.8 836 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-79.3-48.1-147.4-116.7-176.7.4-6.4.7-12.8.7-19.3v-96h148c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM716 680c0 36.8-9.7 72-27.8 102.9-17.7 30.3-43 55.6-73.3 73.3-20.1 11.8-42 20-64.9 24.3V484c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v396.5c-22.9-4.3-44.8-12.5-64.9-24.3-30.3-17.7-55.6-43-73.3-73.3C317.7 752 308 716.8 308 680V412h408v268z" /><path d="M304 280h56c4.4 0 8-3.6 8-8 0-28.3 5.9-53.2 17.1-73.5 10.6-19.4 26-34.8 45.4-45.4C450.9 142 475.7 136 504 136h16c28.3 0 53.2 5.9 73.5 17.1 19.4 10.6 34.8 26 45.4 45.4C650 218.9 656 243.7 656 272c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-40-8.8-76.7-25.9-108.1-17.2-31.5-42.5-56.8-74-74C596.7 72.8 560 64 520 64h-16c-40 0-76.7 8.8-108.1 25.9-31.5 17.2-56.8 42.5-74 74C304.8 195.3 296 232 296 272c0 4.4 3.6 8 8 8z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-component"><path d="M64 64h384v384H64V64zm0 512h384v384H64V576zm512 0h384v384H576V576zm192-128c106.039 0 192-85.961 192-192S874.039 64 768 64s-192 85.961-192 192 85.961 192 192 192z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-dashboard"><path d="M924.8 385.6c-22.6-53.4-54.9-101.3-96-142.4-41.1-41.1-89-73.4-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2c-53.4 22.6-101.3 54.9-142.4 96-41.1 41.1-73.4 89-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6C184.5 765.5 140 665.6 140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276z" /><path d="M623.5 421.5c-3.1-3.1-8.2-3.1-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5-21.9 21.9-21.9 57.3 0 79.2 21.9 21.9 57.3 21.9 79.2 0 14.7-14.7 19.5-35.4 14.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2-31.1-31.1c-3.1-3.1-8.2-3.1-11.3 0l-56.6 56.6c-3.1 3.1-3.1 8.2 0 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1c-3.1-3.1-8.2-3.1-11.3 0l-31.1 31.1c-3.1 3.1-3.1 8.2 0 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z" /></symbol><symbol fill="none"  viewBox="0 0 16 16" id="icon-file"><path d="M5.333 11.333h5.334M5.333 8.667H8M8.667 1.667V2c0 1.886 0 2.828.585 3.414C9.838 6 10.781 6 12.667 6H13m.333 1.105v2.228c0 2.514 0 3.772-.78 4.553-.782.78-2.039.78-4.553.78s-3.771 0-4.552-.78c-.781-.781-.781-2.038-.781-4.553v-3.03c0-2.162 0-3.244.59-3.977.12-.148.254-.283.403-.402.732-.59 1.814-.59 3.977-.59.47 0 .706 0 .921.075.045.016.089.034.132.055.206.098.372.265.705.597l3.157 3.158c.386.385.578.578.68.823.101.245.101.518.101 1.063Z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-fullscreen-exit"><path d="M704 864v-96c0-54.4 41.6-96 96-96h96c19.2 0 32-12.8 32-32s-12.8-32-32-32h-96c-89.6 0-160 70.4-160 160v96c0 19.2 12.8 32 32 32s32-12.8 32-32zm-64-704v96c0 89.6 70.4 160 160 160h96c19.2 0 32-12.8 32-32s-12.8-32-32-32h-96c-54.4 0-96-41.6-96-96v-96c0-19.2-12.8-32-32-32s-32 12.8-32 32zM384 864v-96c0-89.6-70.4-160-160-160h-96c-19.2 0-32 12.8-32 32s12.8 32 32 32h96c54.4 0 96 41.6 96 96v96c0 19.2 12.8 32 32 32s32-12.8 32-32zm-64-704v96c0 54.4-41.6 96-96 96h-96c-19.2 0-32 12.8-32 32s12.8 32 32 32h96c89.6 0 160-70.4 160-160v-96c0-19.2-12.8-32-32-32s-32 12.8-32 32z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-fullscreen"><path d="M192 384v-96c0-54.4 41.6-96 96-96h96c19.2 0 32-12.8 32-32s-12.8-32-32-32h-96c-89.6 0-160 70.4-160 160v96c0 19.2 12.8 32 32 32s32-12.8 32-32zm-64 256v96c0 89.6 70.4 160 160 160h96c19.2 0 32-12.8 32-32s-12.8-32-32-32h-96c-54.4 0-96-41.6-96-96v-96c0-19.2-12.8-32-32-32s-32 12.8-32 32zm768-256v-96c0-89.6-70.4-160-160-160h-96c-19.2 0-32 12.8-32 32s12.8 32 32 32h96c54.4 0 96 41.6 96 96v96c0 19.2 12.8 32 32 32s32-12.8 32-32zm-64 256v96c0 54.4-41.6 96-96 96h-96c-19.2 0-32 12.8-32 32s12.8 32 32 32h96c89.6 0 160-70.4 160-160v-96c0-19.2-12.8-32-32-32s-32 12.8-32 32z" /></symbol><symbol aria-label="Arrow down" viewBox="0 0 15 15" id="icon-keyboard-down"><path d="M7.5 3.5v8m3-3-3 3-3-3" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2" /></symbol><symbol aria-label="Enter key" viewBox="0 0 15 15" id="icon-keyboard-enter"><path d="M12 3.53v3c0 1-1 2-2 2H4m3 3-3-3 3-3" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2" /></symbol><symbol aria-label="Escape key" viewBox="0 0 15 15" id="icon-keyboard-esc"><path d="M13.617 8.936c-.107.358-.689.962-1.488.962-.8 0-1.653-.916-1.653-2.126v-.568c0-1.254.79-2.101 1.653-2.101.864 0 1.36.478 1.488 1.072M9 6c-.135-.473-.75-.922-1.46-.897-.71.024-1.344.57-1.344 1.216s.42.882 1.345.98C8.464 7.4 8.967 7.935 9 8.5c.032.566-.454 1.398-1.46 1.398C6.66 9.898 6 9 5.963 8.485m-1.475.537c-.263.594-.81.876-1.544.876s-1.707-.625-1.707-2.204v-.46c0-1.042.72-2.131 1.707-2.131.986 0 1.642 1.03 1.544 2.249H1.532" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2" /></symbol><symbol aria-label="Arrow up" viewBox="0 0 15 15" id="icon-keyboard-up"><path d="M7.5 11.5v-8m3 3-3-3-3 3" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-link"><path d="M574 665.4c-3.1-3.1-8.2-3.1-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8c-3.1-3.1-8.2-3.1-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6c-3.1 3.1-3.1 8.2 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6c-3.1 3.1-3.1 8.2 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1z" /><path d="M610.1 372.3c-3.1-3.1-8.2-3.1-11.3 0L372.3 598.7c-3.1 3.1-3.1 8.2 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-lock"><path d="M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304z" /><path d="M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53c12.1-8.7 20-22.9 20-39 0-26.5-21.5-48-48-48s-48 21.5-48 48c0 16.1 7.9 30.3 20 39z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-menu"><path d="M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 424H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 212H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-search"><path d="M862.609 816.955 726.44 680.785l-.059-.056a358.907 358.907 0 0 0 56.43-91.927c18.824-44.507 28.369-91.767 28.369-140.467 0-48.701-9.545-95.96-28.369-140.467-18.176-42.973-44.19-81.56-77.319-114.689-33.13-33.129-71.717-59.144-114.69-77.32-44.507-18.825-91.767-28.37-140.467-28.37-48.701 0-95.96 9.545-140.467 28.37-42.973 18.176-81.56 44.19-114.689 77.32-33.13 33.129-59.144 71.717-77.32 114.689-18.825 44.507-28.37 91.767-28.37 140.467 0 48.7 9.545 95.96 28.37 140.467 18.176 42.974 44.19 81.561 77.32 114.69 33.129 33.129 71.717 59.144 114.689 77.319 44.507 18.824 91.767 28.369 140.467 28.369 48.7 0 95.96-9.545 140.467-28.369 32.78-13.864 62.997-32.303 90.197-54.968.063.064.122.132.186.195l136.169 136.17c6.25 6.25 14.438 9.373 22.628 9.373 8.188 0 16.38-3.125 22.627-9.372 12.496-12.496 12.496-32.758 0-45.254zm-412.274-69.466c-79.907 0-155.031-31.118-211.534-87.62-56.503-56.503-87.62-131.627-87.62-211.534s31.117-155.031 87.62-211.534c56.502-56.503 131.626-87.62 211.534-87.62s155.031 31.117 211.534 87.62c56.502 56.502 87.62 131.626 87.62 211.534s-31.118 155.031-87.62 211.534c-56.503 56.502-131.627 87.62-211.534 87.62z" /></symbol><symbol  viewBox="0 0 220 220" id="icon-unocss"><path d="M117.444 167.888c0-27.615 22.386-50 50-50s50 22.385 50 50c0 27.614-22.386 50-50 50s-50-22.386-50-50ZM117.444 53c0-27.614 22.386-50 50-50s50 22.386 50 50v45a5 5 0 0 1-5 5h-90a5 5 0 0 1-5-5V53ZM102 167.888c0 27.614-22.386 50-50 50s-50-22.386-50-50v-45a5 5 0 0 1 5-5h90a5 5 0 0 1 5 5v45Z" /></symbol>',o.insertBefore(t,o.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const E="vue-admin";class u{}g(u,"TOKEN",`${E}-token-key`),g(u,"CONFIG_LAYOUT",`${E}-config-layout-key`),g(u,"SIDEBAR_STATUS",`${E}-sidebar-status-key`),g(u,"ACTIVE_THEME_NAME",`${E}-active-theme-name-key`),g(u,"VISITED_VIEWS",`${E}-visited-views-key`),g(u,"CACHED_VIEWS",`${E}-cached-views-key`);const ne=()=>{const e=localStorage.getItem(u.CONFIG_LAYOUT);return e?JSON.parse(e):null},se=e=>{localStorage.setItem(u.CONFIG_LAYOUT,JSON.stringify(e))},Ye=()=>{localStorage.removeItem(u.CONFIG_LAYOUT)},Ze=()=>localStorage.getItem(u.SIDEBAR_STATUS),Ke=e=>{localStorage.setItem(u.SIDEBAR_STATUS,e)},re=()=>localStorage.getItem(u.ACTIVE_THEME_NAME),ce=e=>{localStorage.setItem(u.ACTIVE_THEME_NAME,e)},ie=()=>{const e=localStorage.getItem(u.VISITED_VIEWS);return JSON.parse(e??"[]")},ae=e=>{e.forEach(o=>{delete o.matched,delete o.redirectedFrom}),localStorage.setItem(u.VISITED_VIEWS,JSON.stringify(e))},le=()=>{const e=localStorage.getItem(u.CACHED_VIEWS);return JSON.parse(e??"[]")},ue=e=>{localStorage.setItem(u.CACHED_VIEWS,JSON.stringify(e))},G="normal",F=[{title:"默认",name:G},{title:"黑暗",name:"dark"},{title:"深蓝",name:"dark-blue"}],O=Vue.ref(re()||G),de=e=>{O.value=e},me=e=>{document.documentElement.classList.add(e)},he=e=>{const o=F.map(t=>t.name).filter(t=>t!==e);document.documentElement.classList.remove(...o)},fe=()=>{Vue.watchEffect(()=>{const e=O.value;he(e),me(e),ce(e)})};function pe(){return{themeList:F,activeThemeName:O,initTheme:fe,setTheme:de}}const S=Pinia.createPinia(),Qe="opened",Xe="closed",et=Object.freeze({0:"Mobile",1:"Desktop",Desktop:1,Mobile:0}),ve=Object.freeze({Left:"left",Top:"top",LeftTop:"left-top"}),_e={layoutMode:ve.Left,showSettings:!0,showTagsView:!0,fixedHeader:!0,showFooter:!0,showLogo:!0,showNotify:!0,showThemeSwitch:!0,showScreenfull:!0,showSearchMenu:!0,cacheTagsView:!1,showWatermark:!0,showGreyMode:!1,showColorWeakness:!1},ge={..._e,...ne()},R=Pinia.defineStore("settings",()=>{const e={};for(const[t,n]of Object.entries(ge)){const s=Vue.ref(n);e[t]=s,Vue.watch(s,()=>{const c=o();se(c)})}const o=()=>{const t={};for(const[n,s]of Object.entries(e))t[n]=s.value;return t};return e}),Ve="grey-mode",Ee="color-weakness",x=document.documentElement.classList,ye=()=>{const e=R();Vue.watchEffect(()=>{x.toggle(Ve,e.showGreyMode),x.toggle(Ee,e.showColorWeakness)})};function we(){return{initGreyAndColorWeakness:ye}}const be={__name:"App",setup(e){const{initTheme:o}=pe(),{initGreyAndColorWeakness:t}=we();return o(),t(),(n,s)=>{const c=ee;return Vue.openBlock(),Vue.createBlock(c,{locale:Vue.unref(X)},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(VueRouter.RouterView))]),_:1},8,["locale"])}}},Se="modulepreload",Te=function(e){return"/"+e},H={},m=function(o,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),h=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(l=>{if(l=Te(l),l in H)return;H[l]=!0;const _=l.endsWith(".css"),y=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${y}`))return;const d=document.createElement("link");if(d.rel=_?"stylesheet":Se,_||(d.as="script"),d.crossOrigin="",d.href=l,h&&d.setAttribute("nonce",h),document.head.appendChild(d),_)return new Promise((f,w)=>{d.addEventListener("load",f),d.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${l}`)))})}))}function c(a){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=a,window.dispatchEvent(h),!h.defaultPrevented)throw a}return s.then(a=>{for(const h of a||[])h.status==="rejected"&&c(h.reason);return o().catch(c)})},Ce=VueRouter.createWebHistory("/");function B({name:e}){return Vue.defineComponent({name:e,setup(){const o=Vue.ref(),t=VueRouter.useRoute(),n=VueRouter.useRouter(),s=t.meta.module;async function c(l){return await import(l)}const a=`${location.origin}/${s}.js?_=${Date.now()}`;function h(l){l.install(o.value,s,S,n,window.history.state.projectPath)}return Vue.onMounted(()=>{c(a).then(l=>{h(l)})}),Vue.onUnmounted(()=>{c(a).then(l=>{l.uninstall()})}),Vue.onActivated(()=>{c(a).then(l=>{l.onActivated(s)})}),Vue.onDeactivated(()=>{c(a).then(l=>{l.onDeactivated(s)})}),{container:o}},render(){return Vue.h("div",{ref:"container"})}})}const q={dynamic:!0,defaultRoles:["DEFAULT_ROLE"],thirdLevelRouteCache:!1},V=()=>m(()=>import("./index-1dttvwho.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),P=[{path:"/404",component:()=>m(()=>import("./404-YMZDnOfz.js"),__vite__mapDeps([8,3])),name:"404"},{path:"/redirect",component:V,name:"Redirect",meta:{hidden:!0,keepAlive:!1},children:[{path:":path(.*)",component:()=>m(()=>import("./index-DFmmx0Kn.js"),[])}]},{path:"/login",component:()=>m(()=>import("./index-BbL-Uf6H.js"),__vite__mapDeps([9,1,2,6,3,10])),meta:{hidden:!0}},{path:"/",component:V,redirect:"/dashboard",children:[{path:"dashboard",component:()=>m(()=>import("./Home-CsqFB-5n.js"),__vite__mapDeps([11,1,2])),name:"Dashboard",meta:{title:"首页",svgIcon:"dashboard",affix:!0}}]},{path:"/",component:V,redirect:"/component",children:[{path:"table",component:()=>m(()=>import("./index-B4wFwDDI.js"),__vite__mapDeps([12,1,2,3,13,14])),name:"TableComponent",meta:{title:"表格",svgIcon:"dashboard"}}]},{path:"/order",component:V,redirect:"/order",children:[{path:"",name:"ModuleLoaderOrder",component:B({name:"ModuleLoaderOrder"}),meta:{module:"order",title:"订单模块",svgIcon:"dashboard"}}]},{path:"/product",component:V,redirect:"/product",children:[{path:"",name:"ModuleLoaderProduct",component:B({name:"ModuleLoaderProduct"}),meta:{module:"product",title:"商品模块",svgIcon:"dashboard"}}]},{path:"/menu",component:V,redirect:"/menu/menu1",name:"Menu",meta:{title:"多级路由",svgIcon:"menu"},children:[{path:"menu1",component:()=>m(()=>import("./index-CtgiCrXP.js"),__vite__mapDeps([15,1,2,3,16])),redirect:"/menu/menu1/menu1-1",name:"Menu1",meta:{title:"menu1"},children:[{path:"menu1-1",component:()=>m(()=>import("./index-DM8mYl4s.js"),__vite__mapDeps([17,1,2])),name:"Menu1-1",meta:{title:"menu1-1"}},{path:"menu1-2",component:()=>m(()=>import("./index-D30O1WSs.js"),__vite__mapDeps([18,1,2])),redirect:"/menu/menu1/menu1-2/menu1-2-1",name:"Menu1-2",meta:{title:"menu1-2"},children:[{path:"menu1-2-1",component:()=>m(()=>import("./index-iP69xKvq.js"),__vite__mapDeps([19,1,2])),name:"Menu1-2-1",meta:{title:"menu1-2-1"}},{path:"menu1-2-2",component:()=>m(()=>import("./index-DN2dOfnt.js"),__vite__mapDeps([20,1,2])),name:"Menu1-2-2",meta:{title:"menu1-2-2"}}]},{path:"menu1-3",component:()=>m(()=>import("./index-D8ASGYRV.js"),__vite__mapDeps([21,1,2])),name:"Menu1-3",meta:{title:"menu1-3"}}]},{path:"menu2",component:()=>m(()=>import("./index-DfsRq_rk.js"),__vite__mapDeps([22,1,2])),name:"Menu2",meta:{title:"menu2"}}]}],j=[{path:"/router",component:V,redirect:"/router/page",name:"RouterPage",meta:{title:"动态路由",svgIcon:"lock",roles:["admin","editor"],alwaysShow:!0,hidden:!1,keepAlive:!0},children:[{path:"page",component:()=>m(()=>import("./page-D9L4ftk0.js"),[]),name:"PagePermission",meta:{title:"状态同步",roles:["admin"]}},{path:"directive",component:()=>m(()=>import("./directive-CRDW23UI.js"),__vite__mapDeps([23,1,2,3,24])),name:"DirectivePermission",meta:{title:"富文本"}},{path:"button",component:()=>m(()=>import("./button-Bb635y23.js"),__vite__mapDeps([25,1,2,3,13,26])),name:"ButtonPermission",meta:{title:"按钮"}},{path:"echarts",component:()=>m(()=>import("./echarts-Bik3YT9o.js"),__vite__mapDeps([27,1,2,4,3,5])),name:"EchartsPermission",meta:{title:"图表"}}]}],p=VueRouter.createRouter({history:Ce,routes:P});function Ae(){try{p.getRoutes().forEach(e=>{var n;const{name:o,meta:t}=e;o&&((n=t.roles)!=null&&n.length)&&p.hasRoute(o)&&p.removeRoute(o)})}catch{window.location.reload()}}const Le=Pinia.defineStore("tags-view",()=>{const{cacheTagsView:e}=R(),o=Vue.ref(e?ie():[]),t=Vue.ref(e?le():[]),n=Vue.ref([]);return Vue.watchEffect(()=>{ae(o.value),ue(t.value)}),{visitedViews:o,cachedViews:t,addVisitedView:r=>{const i=o.value.findIndex(v=>v.path===r.path);i!==-1?o.value[i].fullPath!==r.fullPath&&(o.value[i]={...r}):o.value.push({...r})},addCachedView:r=>{var i;typeof r.name=="string"&&(t.value.includes(r.name)||((i=r.meta)==null?void 0:i.keepAlive)!==!1&&t.value.push(r.name))},delVisitedView:r=>{const i=o.value.findIndex(v=>v.path===r.path);i!==-1&&o.value.splice(i,1)},delCachedView:r=>{if(typeof r.name!="string")return;const i=t.value.indexOf(r.name);i!==-1&&t.value.splice(i,1)},delOthersVisitedViews:r=>{o.value=o.value.filter(i=>{var v;return((v=i.meta)==null?void 0:v.affix)||i.path===r.path})},delOthersCachedViews:r=>{if(typeof r.name!="string")return;const i=t.value.indexOf(r.name);i!==-1?t.value=t.value.slice(i,i+1):t.value=[]},delAllVisitedViews:()=>{o.value=o.value.filter(r=>{var i;return(i=r.meta)==null?void 0:i.affix})},delAllCachedViews:()=>{t.value=[]},notCachedViews:n,addNotCachedView:r=>{typeof r.name=="string"&&(n.value.includes(r.name)||n.value.push(r.name))},delNotCachedView:r=>{if(typeof r.name!="string")return;const i=n.value.indexOf(r.name);i!==-1&&n.value.splice(i,1)},addNotCachedViewByName:r=>{typeof r=="string"&&(n.value.includes(r)||n.value.push(r))},delOthersNotCachedViews:r=>{if(typeof r.name=="string")for(let i=0;i<t.value.length;i++){const v=t.value[i];v!==r.name&&n.value.push(v)}}}}),D=()=>M.get(u.TOKEN),U=e=>{M.set(u.TOKEN,e)},$=()=>{M.remove(u.TOKEN)};function ke(){J().logout(),location.reload()}function Me(){const e=axios.create();return e.interceptors.request.use(o=>o,o=>Promise.reject(o)),e.interceptors.response.use(o=>{var c;const t=o.data,n=(c=o.request)==null?void 0:c.responseType;if(n==="blob"||n==="arraybuffer")return t;switch(t.code){case 0:return t;case 401:return ke();default:return ElementPlus.ElMessage.error(t.message||"Error"),Promise.reject(new Error("Error"))}},o=>(ElementPlus.ElMessage.error(o.message),Promise.reject(o))),e}function Ie(e){return function(o){const t=D(),n={headers:{Authorization:t?`Bearer ${t}`:void 0,"Content-Type":"application/json"},timeout:5e3,baseURL:"https://mock.mengxuegu.com/mock/63218b5fb4c53348ed2bc212/api/v1",data:{}},s=te(n,o);return e(s)}}const Oe=Me(),z=Ie(Oe);function tt(){return z({url:"login/code",method:"get"})}function Re(e){return z({url:"users/login",method:"post",data:e})}function Pe(){return z({url:"users/info",method:"get"})}const J=Pinia.defineStore("user",()=>{const e=Vue.ref(D()||""),o=Vue.ref([]),t=Vue.ref(""),n=Le(),s=R(),c=async({username:d,password:f,code:w})=>{const{data:T}=await Re({username:d,password:f,code:w});U(T.token),e.value=T.token},a=async()=>{var f;const{data:d}=await Pe();t.value=d.username,o.value=((f=d.roles)==null?void 0:f.length)>0?d.roles:q.defaultRoles},h=async d=>{const f="token-"+d;e.value=f,U(f),window.location.reload()},l=()=>{$(),e.value="",o.value=[],Ae(),y()},_=()=>{$(),e.value="",o.value=[]},y=()=>{s.cacheTagsView||(n.delAllVisitedViews(),n.delAllCachedViews())};return{token:e,roles:o,username:t,login:c,getInfo:a,changeRoles:h,logout:l,resetToken:_}});function De(){return J(S)}const ze=(e,o)=>{var n;const t=(n=o.meta)==null?void 0:n.roles;return t?e.some(s=>t.includes(s)):!0},Y=(e,o)=>{const t=[];return e.forEach(n=>{const s={...n};ze(o,s)&&(s.children&&(s.children=Y(s.children,o)),t.push(s))}),t},Ne=Pinia.defineStore("permission",()=>{const e=Vue.ref([]),o=Vue.ref([]),t=c=>{const a=Y(j,c);s(a)},n=()=>{s(j)},s=c=>{e.value=P.concat(c),o.value=c};return{routes:e,addRoutes:o,setRoutes:t,setAllRoutes:n}});function xe(){return Ne(S)}const A=oe(),L=Symbol("ROUTE_CHANGE");let k;const He=e=>{A.emit(L,e),k=e};function ot(){const e=[],o=(n,s=!1)=>{e.push(n),A.on(L,n),s&&k&&n(k)},t=n=>{A.off(L,n)};return Vue.onBeforeUnmount(()=>{for(let n=0;n<e.length;n++)t(e[n])}),{listenerRouteChange:o,removeRouteListener:t}}const W="",Z=Vue.ref(""),Be=e=>{Z.value=e?`${W} | ${e}`:W};Vue.watch(Z,(e,o)=>{document&&e!==o&&(document.title=e)});function je(){return{setTitle:Be}}const Ue=["/login"],$e=[],We=e=>Ue.indexOf(e.path)!==-1||$e.indexOf(e.name)!==-1;I.configure({showSpinner:!1});const{setTitle:Ge}=je(),b=De(),C=xe();p.beforeEach(async(e,o,t)=>{if(I.start(),!D())return We(e)?t():t("/login");if(e.path==="/login")return t({path:"/"});if(b.roles.length!==0)return t();try{await b.getInfo();const n=b.roles;q.dynamic?C.setRoutes(n):C.setAllRoutes(),C.addRoutes.forEach(s=>p.addRoute(s)),t({...e,replace:!0})}catch(n){b.resetToken(),ElementPlus.ElMessage.error(n.message||"路由守卫过程发生错误"),t("/login")}});p.afterEach(e=>{He(e),Ge(e.meta.title),I.done()});p.onError(e=>{console.error("路由匹配失败：",e)});p.beforeEach((e,o,t)=>{if(e.matched.length===0){const n=P.find(s=>e.fullPath.startsWith(`${s.path}/`));n&&t({path:`${n.path}`,state:{projectPath:e.fullPath}}),t({name:"404"});return}t()});const N=Vue.createApp(be);N.use(S);N.use(p);p.isReady().then(()=>{N.mount("#app")});export{et as D,ve as L,Xe as S,Qe as a,R as b,Le as c,Ne as d,J as e,tt as f,Ze as g,pe as h,Ye as r,Ke as s,ot as u};
